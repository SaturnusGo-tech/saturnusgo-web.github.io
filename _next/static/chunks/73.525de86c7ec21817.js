"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[73],{6073:function(e,t,s){s.r(t),s.d(t,{default:function(){return a}});var r=s(8947),o=s(3081);function i(e){var t,s,i,l,n;let{mediaKey:a,poster:c,srcMp4:d,srcWebm:u,sources:p,autoPlay:v=!0,loop:m=!0,muted:b=!0,debug:h=!0}=e,{ref:y,inView:g}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"300px",t=(0,o.useRef)(null),[s,r]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let s=t.current;if(!s)return;let o=new IntersectionObserver(e=>{let[t]=e;return r(t.isIntersecting)},{rootMargin:e});return o.observe(s),()=>o.disconnect()},[]),{ref:t,inView:s}}("300px"),x=(0,o.useRef)(null),[j,f]=(0,o.useState)(null);(0,o.useEffect)(()=>{let e=x.current;if(!e)return;let t=()=>f(null),s=()=>f("playback-error");return e.addEventListener("loadeddata",t),e.addEventListener("error",s),()=>{e.removeEventListener("loadeddata",t),e.removeEventListener("error",s)}},[]);let w=null!==(n=null!==(l=null!==(i=null!==(s=null!=a?a:null==p?void 0:null===(t=p[0])||void 0===t?void 0:t.src)&&void 0!==s?s:d)&&void 0!==i?i:u)&&void 0!==l?l:c)&&void 0!==n?n:"video",k=!!(p&&p.length||d||u);return(0,r.jsxs)("div",{className:"phone",ref:y,style:{position:"relative"},children:[!g&&c&&(0,r.jsx)("img",{src:c,alt:"",style:{width:"100%",height:"100%",objectFit:"contain",display:"block"}}),g&&k&&(0,r.jsx)("video",{ref:x,playsInline:!0,muted:b,autoPlay:v,loop:m,preload:"metadata",poster:c,controls:h,style:{width:"100%",height:"100%",objectFit:"contain",display:"block",background:"color-mix(in oklab, var(--bg2), black 6%)"},children:p?p.map(e=>(0,r.jsx)("source",{src:e.src,type:e.type},e.src)):(0,r.jsxs)(r.Fragment,{children:[u&&(0,r.jsx)("source",{src:u,type:"video/webm"}),d&&(0,r.jsx)("source",{src:d,type:"video/mp4"})]})},w),g&&!k&&(0,r.jsx)("div",{style:{position:"absolute",inset:0,display:"grid",placeItems:"center",color:"var(--text-2)"},children:"no source"}),h&&j&&(0,r.jsx)("div",{style:{position:"absolute",left:10,top:10,background:"rgba(255,0,0,.12)",border:"1px solid rgba(255,0,0,.5)",color:"#ffb3b3",padding:"6px 8px",borderRadius:8,fontSize:12},children:"Video error (кодек/тип?). Попробуй MP4 H.264 / WebM VP9."})]})}let l=[{title:"Unified flow",text:"Doorstep → ride → hotel/events → wallet — one motion without context switching."},{title:"Hub: Place–B2B2C",text:"Discover places and partners, open detail with “Place Detail” bar, save hubs for repeat journeys."},{title:"Financial clarity",text:"Local rails, tokenized cards, bonuses and subscriptions — with receipts you can trust."},{title:"…and much more",text:"The live build tells the full story: micro-interactions, haptics, ghost transitions."}],n=[{poster:"/images/overview.jpg",sources:[{src:"https://wjfhdyynywkjudwlouxv.supabase.co/storage/v1/object/public/Video-host/unified-flow-720.mp4",type:"video/mp4"}]},{poster:"/images/overview.jpg",sources:[{src:"https://wjfhdyynywkjudwlouxv.supabase.co/storage/v1/object/public/Video-host/hub-places-720.mp4",type:"video/mp4"}]},{poster:"/images/overview.jpg",sources:[{src:"https://wjfhdyynywkjudwlouxv.supabase.co/storage/v1/object/public/Video-host/financial-clarity-720.mp4",type:"video/mp4"}]},{poster:"/images/overview.jpg",sources:[{src:"/videos/hero-vision.mp4",type:"video/mp4"}]}];function a(){var e,t;let[s,a]=(0,o.useState)(0),c=(0,o.useRef)(null),d=(0,o.useMemo)(()=>l,[]),u=null!==(t=n[s])&&void 0!==t?t:{},p=(0,o.useMemo)(()=>{var e,t;return(null===(t=u.sources)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.src)||u.mp4||u.webm||u.poster||String(s)},[u,s]),v=!!((null===(e=u.sources)||void 0===e?void 0:e.length)||u.mp4||u.webm),m=(0,o.useCallback)(e=>{Number.isFinite(e)&&e!==s&&(c.current&&cancelAnimationFrame(c.current),c.current=requestAnimationFrame(()=>a(e)))},[s]),b=(0,o.useCallback)(e=>{let t=e.currentTarget.dataset.step;null!=t&&m(Number(t))},[m]);return(0,r.jsx)("div",{className:"story",role:"region","aria-label":"How SaturnusGo feels in use",children:(0,r.jsxs)("div",{className:"story__pin",style:{willChange:"transform"},children:[(0,r.jsx)("div",{className:"story__panel",children:d.map((e,t)=>(0,r.jsxs)("button",{"data-step":t,className:"story__step ".concat(s===t?"story__step--on":""),"aria-selected":s===t,onMouseEnter:b,onFocus:b,onClick:b,type:"button",children:[(0,r.jsx)("strong",{children:e.title}),(0,r.jsx)("p",{className:"sub",children:e.text})]},t))}),(0,r.jsxs)("div",{className:"story__screen","aria-hidden":!1,children:[(0,r.jsx)("div",{className:"story__backdrop","data-idx":s}),(0,r.jsxs)("div",{className:"story__mock",children:[v?(0,r.jsx)(i,{mediaKey:p,poster:u.poster,sources:u.sources,srcMp4:u.mp4,srcWebm:u.webm,autoPlay:!0,loop:!0,muted:!0,debug:!1}):u.poster?(0,r.jsx)("div",{className:"phone",children:(0,r.jsx)("img",{src:u.poster,alt:"",decoding:"async",loading:"lazy",style:{width:"100%",height:"100%",objectFit:"contain",display:"block"},draggable:!1})}):(0,r.jsx)("div",{style:{padding:16,color:"var(--text-2)"},children:"Video coming soon…"}),(0,r.jsx)("div",{className:"story__caption",children:l[s].title})]})]})]})})}}}]);